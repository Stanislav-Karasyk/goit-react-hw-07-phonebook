(this["webpackJsonpgoit-react-hw-07-phonebook"]=this["webpackJsonpgoit-react-hw-07-phonebook"]||[]).push([[0],{60:function(t,e,n){},61:function(t,e,n){"use strict";n.r(e);var c,r,a,o=n(0),u=n.n(o),i=n(9),s=n.n(i),b=n(6),j=n(3),l=n(2),f=n(16),O=n(5),d=Object(j.b)("contacts/fetchContactRequest"),h=Object(j.b)("contacts/fetchContactSuccess"),p=Object(j.b)("contacts/fetchContactError"),m=Object(j.b)("contacts/createContactRequest"),v=Object(j.b)("contacts/createContactSuccess"),x=Object(j.b)("contacts/createContactError"),C=Object(j.b)("contacts/deleteContactRequest"),y=Object(j.b)("contacts/deleteContactSuccess"),g=Object(j.b)("contacts/deleteContactError"),k=Object(j.b)("contact/addFilterValue"),w=Object(j.c)([],(c={},Object(l.a)(c,h,(function(t,e){return e.payload})),Object(l.a)(c,v,(function(t,e){var n=e.payload;return[].concat(Object(f.a)(t),[n])})),Object(l.a)(c,y,(function(t,e){var n=e.payload;return Object(f.a)(t.filter((function(t){return t.id!==Number(n)})))})),c)),S=Object(j.c)("",Object(l.a)({},k,(function(t,e){return e.payload}))),F=Object(j.c)(!1,(r={},Object(l.a)(r,d,(function(){return!0})),Object(l.a)(r,h,(function(){return!1})),Object(l.a)(r,p,(function(){return!1})),Object(l.a)(r,m,(function(){return!0})),Object(l.a)(r,v,(function(){return!1})),Object(l.a)(r,x,(function(){return!1})),Object(l.a)(r,C,(function(){return!0})),Object(l.a)(r,y,(function(){return!1})),Object(l.a)(r,g,(function(){return!1})),r)),E=function(t,e){return e.payload.response.data},I=function(){return null},L=Object(j.c)(null,(a={},Object(l.a)(a,d,I),Object(l.a)(a,p,E),Object(l.a)(a,m,I),Object(l.a)(a,x,E),Object(l.a)(a,C,I),Object(l.a)(a,g,E),a)),R=Object(O.c)({contacts:w,filter:S,loading:F,error:L}),q=Object(j.a)({reducer:{contact:R},devTools:!1}),D=n(26),N=n(27),V=n(29),A=n(28),J=n(7),M=n.n(J),B=n(11),P=n(8),T=n.n(P);T.a.defaults.baseURL="http://localhost:3004";var U=n(1),z=function(t){Object(V.a)(n,t);var e=Object(A.a)(n);function n(){var t;Object(D.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))).state={name:"",number:""},t.handleInput=function(e){var n=e.target,c=n.name,r=n.value;t.setState(Object(l.a)({},c,r))},t.handleSubmit=function(e){e.preventDefault(),t.props.onCreateContact(t.state),t.setState({name:"",number:""})},t}return Object(N.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchContacts()}},{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(U.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(U.jsxs)("label",{children:["Name",Object(U.jsx)("input",{name:"name",type:"text",onChange:this.handleInput,value:e})]}),Object(U.jsxs)("label",{children:["Number",Object(U.jsx)("input",{name:"number",type:"text",onChange:this.handleInput,value:n})]}),Object(U.jsx)("button",{type:"submit",children:"Add contacts"})]})}}]),n}(o.Component),G=Object(b.b)(null,(function(t){return{onCreateContact:function(e){var n=e.name,c=e.number;return t(function(t){var e=t.name,n=t.number;return function(){var t=Object(B.a)(M.a.mark((function t(c){var r,a,o;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={name:e,number:n},c(m()),t.prev=2,t.next=5,T.a.post("/contacts",r);case 5:a=t.sent,o=a.data,c(v(o)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),c(x(t.t0));case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}({name:n,number:c}))},fetchContacts:function(){return t(function(){var t=Object(B.a)(M.a.mark((function t(e){var n,c;return M.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(d()),t.prev=1,t.next=4,T.a.get("/contacts");case 4:n=t.sent,c=n.data,e(h(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(p(t.t0));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}}}))(z),H=n(10),K=function(t){return t.contact.filter},Q=function(t){return t.contact.loading},W=function(t){return t.contact.error},X=Object(H.a)([function(t){return t.contact.contacts},K],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),Y=Object(b.b)((function(t){return{contacts:X(t),loading:Q(t),error:W(t)}}),(function(t){return{deleteContact:function(e){return t(function(t){return function(){var e=Object(B.a)(M.a.mark((function e(n){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(C()),e.prev=1,e.next=4,T.a.delete("/contacts/".concat(t));case 4:n(y(t)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),n(g(e.t0));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact,c=t.loading,r=function(t){n(t.target.id)};return Object(U.jsxs)(U.Fragment,{children:[c&&Object(U.jsx)("h2",{children:"Loading..."}),Object(U.jsx)("ul",{children:e.map((function(t){var e=t.name,n=t.id,c=t.number;return Object(U.jsx)("li",{children:Object(U.jsxs)("p",{children:[e,": ",c,Object(U.jsx)("button",{id:n,type:"button",onClick:r,children:"Delete"})]})},n)}))})]})})),Z=Object(b.b)((function(t){return{filter:K(t),error:W(t)}}),(function(t){return{addFilterValue:function(e){return t(k(e))}}}))((function(t){var e=t.filter,n=t.addFilterValue;return Object(U.jsxs)("label",{children:["Find contacts by name",Object(U.jsx)("input",{name:"filter",type:"text",onChange:function(t){n(t.target.value)},value:e})]})})),$=function(){return Object(U.jsxs)(U.Fragment,{children:[Object(U.jsx)("h1",{children:"Phonebook"}),Object(U.jsx)(G,{}),Object(U.jsx)("h2",{children:"Contacts"}),Object(U.jsx)(Z,{}),Object(U.jsx)(Y,{})]})};n(60);s.a.render(Object(U.jsx)(u.a.StrictMode,{children:Object(U.jsx)(b.a,{store:q,children:Object(U.jsx)($,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.f83401e1.chunk.js.map